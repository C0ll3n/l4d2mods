////////// ADVANCED THIRD PERSON CAMERA SYSTEM - CLIENT CONFIGURATION //////////
////////// OPTIMIZED FOR AUTOMATIC CHARACTER DETECTION //////////

// =================================================================================
// ADVANCED THIRD PERSON CLIENT BINDS
// =================================================================================

// This file provides client-side keybinds that work with the Advanced Third Person plugin
// 
// AUTOMATIC EXECUTION:
// - This file is automatically downloaded via FastDL when you connect to the server
// - The plugin automatically executes it (temporary configuration for this session)
// - Configuration is active only while connected to servers with this plugin
//
// MANUAL EXECUTION (optional):
// - Place this file in your Left 4 Dead 2/left4dead2/cfg/ folder
// - Execute with: exec advanced_thirdperson_client.cfg
// - Add "exec advanced_thirdperson_client.cfg" to your autoexec.cfg for permanent use

echo "Loading Advanced Third Person Client Configuration..."

// =================================================================================
// BASIC CAMERA SETTINGS
// =================================================================================

// FOV (Field of View)
fov_desired 75

// Camera lag and smoothing
cam_ideallag 0                       // No camera lag
cam_snapto 0                         // Smooth camera (0=ON, 1=OFF)

// =================================================================================
// THIRD PERSON KEYBINDS
// =================================================================================

// Main third person toggle
bind "backspace" "sm_tp"             // Toggle third person on/off

// Camera controls
bind "alt" "sm_shoulder"             // Switch camera shoulder (left/right)
bind "b" "sm_lookbehind"             // Look behind (toggle)

// Camera distance controls (Page Up/Down instead of mouse wheel)
bind "pgup" "tp_distance_up"         // Increase camera distance
bind "pgdn" "tp_distance_down"       // Decrease camera distance

// =================================================================================
// DISTANCE CONTROL ALIASES
// =================================================================================

// Distance control system (20-100 range, 10-unit steps)
alias "tp_distance_up" "tp_dist_40"
alias "tp_distance_down" "tp_dist_40"

// Distance aliases with smooth progression
alias "tp_dist_20" "sm_tpdist 20; alias tp_distance_up tp_dist_30; alias tp_distance_down tp_dist_20; playgamesound buttons/button14.wav"
alias "tp_dist_30" "sm_tpdist 30; alias tp_distance_up tp_dist_40; alias tp_distance_down tp_dist_20; playgamesound buttons/button14.wav"
alias "tp_dist_40" "sm_tpdist 40; alias tp_distance_up tp_dist_50; alias tp_distance_down tp_dist_30; playgamesound buttons/button14.wav"
alias "tp_dist_50" "sm_tpdist 50; alias tp_distance_up tp_dist_60; alias tp_distance_down tp_dist_40; playgamesound buttons/button14.wav"
alias "tp_dist_60" "sm_tpdist 60; alias tp_distance_up tp_dist_70; alias tp_distance_down tp_dist_50; playgamesound buttons/button14.wav"
alias "tp_dist_70" "sm_tpdist 70; alias tp_distance_up tp_dist_80; alias tp_distance_down tp_dist_60; playgamesound buttons/button14.wav"
alias "tp_dist_80" "sm_tpdist 80; alias tp_distance_up tp_dist_90; alias tp_distance_down tp_dist_70; playgamesound buttons/button14.wav"
alias "tp_dist_90" "sm_tpdist 90; alias tp_distance_up tp_dist_100; alias tp_distance_down tp_dist_80; playgamesound buttons/button14.wav"
alias "tp_dist_100" "sm_tpdist 100; alias tp_distance_up tp_dist_100; alias tp_distance_down tp_dist_90; playgamesound buttons/button14.wav"

// Initialize distance system
tp_dist_40

// =================================================================================
// ALTERNATIVE KEYBINDS (OPTIONAL)
// =================================================================================

// Uncomment these lines if you prefer different keys:

// Alternative toggle keys
// bind "t" "sm_tp"                  // T key for toggle
// bind "f4" "sm_tp"                 // F4 key for toggle

// Alternative shoulder switch
// bind "mouse4" "sm_shoulder"       // Mouse side button
// bind "q" "sm_shoulder"            // Q key

// Alternative look behind
// bind "mouse5" "sm_lookbehind"     // Mouse side button
// bind "c" "sm_lookbehind"          // C key

// Alternative distance controls
// bind "=" "tp_distance_up"         // Plus key
// bind "-" "tp_distance_down"       // Minus key

// =================================================================================
// UTILITY BINDS
// =================================================================================

// Quick distance presets
bind "f5" "tp_dist_40"               // Reset to default distance
bind "f6" "tp_dist_60"               // Medium distance
bind "f7" "tp_dist_80"               // Far distance

// Debug and info commands
bind "f11" "sm_tp_debug"              // Toggle debug (admin only)

// =================================================================================
// CAMERA OPTIMIZATION SETTINGS
// =================================================================================

// These settings optimize the camera for third person use
// They are automatically applied by the plugin, but can be set manually

// Third person shoulder settings (managed by plugin)
c_mindistance 20                     // Minimum camera distance
c_maxdistance 40                     // Maximum camera distance (will be adjusted)
c_maxyaw 2000                        // Maximum yaw range
c_thirdpersonshoulderdist 1000       // Shoulder distance
c_thirdpersonshoulderaimdist 1000    // Aim distance

// Character-specific heights (automatically detected and applied by plugin):
// Bill/Nick: c_thirdpersonshoulderheight 0
// Zoey/Rochelle: c_thirdpersonshoulderheight -5
// Louis/Coach: c_thirdpersonshoulderheight 5
// Francis/Ellis: c_thirdpersonshoulderheight 3

// Shoulder positions (automatically managed by plugin):
// Right shoulder: c_thirdpersonshoulderoffset 17
// Left shoulder: c_thirdpersonshoulderoffset -15

// =================================================================================
// CROSSHAIR SETTINGS
// =================================================================================

// Crosshair is automatically managed by the plugin:
// - Hidden in third person mode
// - Shown in first person mode
// - Shown when aiming in third person

// Manual crosshair control (if needed)
// crosshair 1                       // Show crosshair
// crosshair 0                       // Hide crosshair

// =================================================================================
// COMPATIBILITY NOTES
// =================================================================================

// This configuration is designed to work with:
// - Advanced Third Person Camera System plugin
// - Left4DHooks
// - Standard Left 4 Dead 2 installations

// Potential conflicts:
// - Other third person plugins
// - Custom HUD modifications
// - Keybind conflicts with other scripts

// If you experience issues:
// 1. Check for keybind conflicts
// 2. Disable other third person plugins
// 3. Enable debug mode: sm_tp_debug
// 4. Check console for error messages

// =================================================================================
// CUSTOMIZATION GUIDE
// =================================================================================

// To customize keybinds:
// 1. Edit the bind commands above
// 2. Save this file
// 3. Execute: exec advanced_thirdperson_client.cfg
// 4. Or restart the game

// Valid key names include:
// - Letter keys: a, b, c, etc.
// - Number keys: 1, 2, 3, etc.
// - Function keys: f1, f2, f3, etc.
// - Special keys: space, enter, backspace, tab, etc.
// - Mouse buttons: mouse1, mouse2, mouse3, mouse4, mouse5
// - Arrow keys: uparrow, downarrow, leftarrow, rightarrow
// - Page keys: pgup, pgdn, home, end, ins, del

// =================================================================================
// EXECUTION CONFIRMATION
// =================================================================================

echo "Advanced Third Person Client Configuration Loaded Successfully!"
echo "Keybinds:"
echo "  Backspace - Toggle Third Person"
echo "  Alt - Switch Shoulder"
echo "  B - Look Behind"
echo "  Page Up/Down - Camera Distance"
echo "  F5/F6/F7 - Distance Presets"
echo ""
echo "Type 'sm_tp' in console to toggle third person camera"
echo "Use 'sm_tpdist <20-100>' to set specific distance"

// Play confirmation sound
playgamesound buttons/button15.wav